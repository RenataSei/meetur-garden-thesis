{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\renee\\\\Documents\\\\GitHub\\\\meetur-garden-thesis\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useState, useContext } from \"react\";\nimport { analyzePlantHealth } from \"../utils/careEngine\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../contexts/AuthContext\";\nimport { WeatherContext } from \"../contexts/WeatherContext\";\nimport { GardenAPI } from \"../api\";\nimport \"./Home.css\";\n\n// --- SUB-COMPONENT: The Guest Landing View ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction LandingView({\n  handleSearchSubmit\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"hero__title\",\n        children: \"Grow. Track. Thrive.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"hero__text\",\n        children: \"Manage your garden with simple create, read, update, and delete tools. Keep every plant healthy and every task on time.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero__cta\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"btn btn--primary\",\n          children: \"Login to Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"btn btn--secondary\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"hero__search\",\n        onSubmit: handleSearchSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero__search-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"query\",\n            className: \"hero__search-input\",\n            placeholder: \"SEARCH PLANTS...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"field\",\n            className: \"hero__search-select\",\n            defaultValue: \"none\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"none\",\n              children: \"ANY FIELD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"family\",\n              children: \"FAMILY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"genus\",\n              children: \"GENUS NAME\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"maintenance\",\n              children: \"MAINTENANCE LEVEL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"sort\",\n            className: \"hero__search-select\",\n            defaultValue: \"none\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"none\",\n              children: \"SORT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"az\",\n              children: \"A-Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn--primary hero__search-btn\",\n            children: \"SEARCH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"features\",\n      children: [/*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card__icon card__icon--green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"card__title\",\n          children: \"Quick Entries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__text\",\n          children: \"Add plants and notes in seconds. Save time while keeping records complete.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card__icon card__icon--blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"card__title\",\n          children: \"Smart Views\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__text\",\n          children: \"See what needs watering or pruning today with clean filters and lists.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card__icon card__icon--purple\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"card__title\",\n          children: \"Safe Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card__text\",\n          children: \"Edit or remove items with confidence. Your data stays consistent across pages.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n// --- SUB-COMPONENT: The User's \"My Garden\" Dashboard ---\n_c = LandingView;\nfunction GardenDashboard({\n  user\n}) {\n  _s();\n  const {\n    weather,\n    loading: weatherLoading\n  } = useContext(WeatherContext);\n  const [garden, setGarden] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Load the garden data\n  async function loadGarden() {\n    try {\n      const data = await GardenAPI.list();\n      setGarden(data);\n    } catch (err) {\n      setError(\"Could not load your garden.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    loadGarden();\n  }, []);\n\n  // Handle Remove Plant\n  async function handleRemove(id, name) {\n    if (!window.confirm(`Remove ${name} from your garden?`)) return;\n    try {\n      await GardenAPI.remove(id);\n      setGarden(prev => prev.filter(item => item._id !== id));\n    } catch (err) {\n      alert(\"Failed to remove plant\");\n    }\n  }\n\n  // Handle Watering Action\n  async function handleWater(id) {\n    try {\n      await GardenAPI.logAction(id, \"water\");\n      loadGarden();\n    } catch (err) {\n      alert(\"Failed to log watering\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"hero__title\",\n        style: {\n          fontSize: \"2rem\",\n          marginBottom: \"10px\"\n        },\n        children: \"My Garden \\uD83C\\uDF3F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"hero__text\",\n        style: {\n          maxWidth: \"600px\",\n          margin: \"0 auto 30px\"\n        },\n        children: [\"Welcome back, \", user.email.split(\"@\")[0], \"! Here are the plants you are currently tracking.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"var(--bg-deep)\",\n          border: \"3px solid var(--weather-blue)\",\n          padding: \"10px 15px\",\n          display: \"inline-flex\",\n          alignItems: \"center\",\n          gap: \"15px\",\n          boxShadow: \"4px 4px 0 rgba(0,0,0,0.5)\",\n          marginBottom: \"20px\"\n        },\n        children: weatherLoading || !weather ? /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: \"10px\",\n            color: \"#cbd5e1\"\n          },\n          children: \"LOADING WEATHER...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: \"24px\"\n            },\n            children: weather.weather[0].main.includes(\"Rain\") ? \"üåßÔ∏è\" : \"‚òÄÔ∏è\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: \"left\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"12px\",\n                color: \"var(--weather-blue)\"\n              },\n              children: weather.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"10px\",\n                color: \"#cbd5e1\",\n                marginTop: \"4px\"\n              },\n              children: [\"Temp: \", Math.round(weather.main.temp), \"\\xB0C | Hum:\", \" \", weather.main.humidity, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/plants\",\n        className: \"btn btn--primary\",\n        children: \"+ Add New Plant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"loading\",\n      children: \"Loading your garden...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }, this), !loading && !error && garden.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Your garden is currently empty.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this), !loading && !error && garden.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"garden-grid\",\n      children: garden.map(item => {\n        const plantInfo = item.plant_id || {};\n        const commonName = plantInfo.common_name ? Array.isArray(plantInfo.common_name) ? plantInfo.common_name[0] : plantInfo.common_name : \"Unknown Plant\";\n\n        // --- ü§ñ RUN THE CARE ENGINE HERE ---\n        const healthReport = analyzePlantHealth(plantInfo, weather, item);\n\n        // Determine retro border color based on health status\n        let statusColor = \"var(--leaf-green)\"; // Optimal (Green)\n        if (healthReport.health === \"THIRSTY\") statusColor = \"var(--weather-blue)\"; // Thirsty (Blue)\n        if (healthReport.health === \"NEEDS ATTENTION\") statusColor = \"#fbbf24\"; // Needs Attention (Yellow)\n        if (healthReport.health === \"TOO HOT!\" || healthReport.health === \"TOO COLD!\") statusColor = \"#ef4444\"; // Danger (Red)\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"garden-card\",\n          style: {\n            borderColor: statusColor\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"garden-card__header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.nickname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"species\",\n              children: commonName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"garden-card__stats\",\n            style: {\n              borderColor: statusColor\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"STATUS:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: statusColor\n                },\n                children: healthReport.health\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this), healthReport.alerts.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: '8px',\n              margin: 0,\n              background: 'rgba(0,0,0,0.5)',\n              border: '1px solid #334155',\n              fontSize: '8px',\n              color: '#f8fafc',\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '4px'\n            },\n            children: healthReport.alerts.map((alert, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u25B8 \", alert]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"garden-card__actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleWater(item._id),\n              className: \"btn btn--small btn--blue\",\n              children: \"WATER \\uD83D\\uDCA7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRemove(item._id, item.nickname),\n              className: \"btn btn--small btn--danger\",\n              children: \"REMOVE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this)]\n        }, item._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n\n// --- MAIN COMPONENT ---\n_s(GardenDashboard, \"P5dZxNM4ARJMTWJTfZRRiQMJ3Fw=\");\n_c2 = GardenDashboard;\nexport default function Home() {\n  _s2();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(AuthContext); // Get user status\n\n  function handleSearchSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData(event.currentTarget);\n    const query = (formData.get(\"query\") || \"\").toString().trim();\n    const field = (formData.get(\"field\") || \"none\").toString();\n    const sort = (formData.get(\"sort\") || \"none\").toString();\n    const params = new URLSearchParams();\n    if (query) params.set(\"search\", query);\n    if (field && field !== \"none\") params.set(\"field\", field);\n    if (sort && sort !== \"none\") params.set(\"sort\", sort);\n    const searchString = params.toString();\n    if (searchString) {\n      navigate(`/plants?${searchString}`);\n    } else {\n      navigate(\"/plants\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"bubble bubble--green\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"bubble bubble--blue\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"bubble bubble--purple\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"home__header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"brand__dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"brand__name\",\n          children: \"Meet-Ur Garden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        style: {\n          display: \"flex\",\n          gap: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/plants\",\n          className: \"btn btn--ghost\",\n          children: \"All Plants\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/logout\",\n          className: \"btn btn--ghost\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), user ? /*#__PURE__*/_jsxDEV(GardenDashboard, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(LandingView, {\n      handleSearchSubmit: handleSearchSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"home__footer\",\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"\\xA9 \", new Date().getFullYear(), \" Meet-Ur Garden\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 5\n  }, this);\n}\n_s2(Home, \"AXhF+paBdpuSGWN/GkZ2gVsVXc0=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Home;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"LandingView\");\n$RefreshReg$(_c2, \"GardenDashboard\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"names":["useEffect","useState","useContext","analyzePlantHealth","Link","useNavigate","AuthContext","WeatherContext","GardenAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","LandingView","handleSearchSubmit","children","className","fileName","_jsxFileName","lineNumber","columnNumber","to","onSubmit","type","name","placeholder","defaultValue","value","_c","GardenDashboard","user","_s","weather","loading","weatherLoading","garden","setGarden","setLoading","error","setError","loadGarden","data","list","err","handleRemove","id","window","confirm","remove","prev","filter","item","_id","alert","handleWater","logAction","style","fontSize","marginBottom","maxWidth","margin","email","split","background","border","padding","display","alignItems","gap","boxShadow","color","main","includes","textAlign","marginTop","Math","round","temp","humidity","length","map","plantInfo","plant_id","commonName","common_name","Array","isArray","healthReport","statusColor","health","borderColor","nickname","alerts","listStyle","flexDirection","idx","onClick","_c2","Home","_s2","navigate","event","preventDefault","formData","FormData","currentTarget","query","get","toString","trim","field","sort","params","URLSearchParams","set","searchString","Date","getFullYear","_c3","$RefreshReg$"],"sources":["C:/Users/renee/Documents/GitHub/meetur-garden-thesis/frontend/src/pages/Home.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport { analyzePlantHealth } from \"../utils/careEngine\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport { WeatherContext } from \"../contexts/WeatherContext\";\r\nimport { GardenAPI } from \"../api\";\r\nimport \"./Home.css\";\r\n\r\n// --- SUB-COMPONENT: The Guest Landing View ---\r\nfunction LandingView({ handleSearchSubmit }) {\r\n  return (\r\n    <>\r\n      <section className=\"hero\">\r\n        <h2 className=\"hero__title\">Grow. Track. Thrive.</h2>\r\n        <p className=\"hero__text\">\r\n          Manage your garden with simple create, read, update, and delete tools.\r\n          Keep every plant healthy and every task on time.\r\n        </p>\r\n        <div className=\"hero__cta\">\r\n          <Link to=\"/login\" className=\"btn btn--primary\">\r\n            Login to Start\r\n          </Link>\r\n          <Link to=\"/register\" className=\"btn btn--secondary\">\r\n            Register\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Pixel-style search bar inside hero box */}\r\n        <form className=\"hero__search\" onSubmit={handleSearchSubmit}>\r\n          <div className=\"hero__search-row\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"query\"\r\n              className=\"hero__search-input\"\r\n              placeholder=\"SEARCH PLANTS...\"\r\n            />\r\n            <select\r\n              name=\"field\"\r\n              className=\"hero__search-select\"\r\n              defaultValue=\"none\"\r\n            >\r\n              <option value=\"none\">ANY FIELD</option>\r\n              <option value=\"family\">FAMILY</option>\r\n              <option value=\"genus\">GENUS NAME</option>\r\n              <option value=\"maintenance\">MAINTENANCE LEVEL</option>\r\n            </select>\r\n            <select\r\n              name=\"sort\"\r\n              className=\"hero__search-select\"\r\n              defaultValue=\"none\"\r\n            >\r\n              <option value=\"none\">SORT</option>\r\n              <option value=\"az\">A-Z</option>\r\n            </select>\r\n            <button type=\"submit\" className=\"btn btn--primary hero__search-btn\">\r\n              SEARCH\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n\r\n      <section className=\"features\">\r\n        <article className=\"card\">\r\n          <div className=\"card__icon card__icon--green\" />\r\n          <h3 className=\"card__title\">Quick Entries</h3>\r\n          <p className=\"card__text\">\r\n            Add plants and notes in seconds. Save time while keeping records\r\n            complete.\r\n          </p>\r\n        </article>\r\n\r\n        <article className=\"card\">\r\n          <div className=\"card__icon card__icon--blue\" />\r\n          <h3 className=\"card__title\">Smart Views</h3>\r\n          <p className=\"card__text\">\r\n            See what needs watering or pruning today with clean filters and\r\n            lists.\r\n          </p>\r\n        </article>\r\n\r\n        <article className=\"card\">\r\n          <div className=\"card__icon card__icon--purple\" />\r\n          <h3 className=\"card__title\">Safe Changes</h3>\r\n          <p className=\"card__text\">\r\n            Edit or remove items with confidence. Your data stays consistent\r\n            across pages.\r\n          </p>\r\n        </article>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\n// --- SUB-COMPONENT: The User's \"My Garden\" Dashboard ---\r\nfunction GardenDashboard({ user }) {\r\n  const { weather, loading: weatherLoading } = useContext(WeatherContext);\r\n  const [garden, setGarden] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Load the garden data\r\n  async function loadGarden() {\r\n    try {\r\n      const data = await GardenAPI.list();\r\n      setGarden(data);\r\n    } catch (err) {\r\n      setError(\"Could not load your garden.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadGarden();\r\n  }, []);\r\n\r\n  // Handle Remove Plant\r\n  async function handleRemove(id, name) {\r\n    if (!window.confirm(`Remove ${name} from your garden?`)) return;\r\n    try {\r\n      await GardenAPI.remove(id);\r\n      setGarden((prev) => prev.filter((item) => item._id !== id));\r\n    } catch (err) {\r\n      alert(\"Failed to remove plant\");\r\n    }\r\n  }\r\n\r\n  // Handle Watering Action\r\n  async function handleWater(id) {\r\n    try {\r\n      await GardenAPI.logAction(id, \"water\");\r\n      loadGarden();\r\n    } catch (err) {\r\n      alert(\"Failed to log watering\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <div className=\"dashboard-header\">\r\n        <h2\r\n          className=\"hero__title\"\r\n          style={{ fontSize: \"2rem\", marginBottom: \"10px\" }}\r\n        >\r\n          My Garden üåø\r\n        </h2>\r\n        <p\r\n          className=\"hero__text\"\r\n          style={{ maxWidth: \"600px\", margin: \"0 auto 30px\",  }}\r\n        >\r\n          Welcome back, {user.email.split(\"@\")[0]}! Here are the plants you are\r\n          currently tracking.\r\n        </p>\r\n\r\n        {/* 2. THE NEW WEATHER WIDGET */}\r\n        <div\r\n          style={{\r\n            background: \"var(--bg-deep)\",\r\n            border: \"3px solid var(--weather-blue)\",\r\n            padding: \"10px 15px\",\r\n            display: \"inline-flex\",\r\n            alignItems: \"center\",\r\n            gap: \"15px\",\r\n            boxShadow: \"4px 4px 0 rgba(0,0,0,0.5)\",\r\n            marginBottom: \"20px\",\r\n          }}\r\n        >\r\n          {weatherLoading || !weather ? (\r\n            <span style={{ fontSize: \"10px\", color: \"#cbd5e1\" }}>\r\n              LOADING WEATHER...\r\n            </span>\r\n          ) : (\r\n            <>\r\n              <span style={{ fontSize: \"24px\" }}>\r\n                {weather.weather[0].main.includes(\"Rain\") ? \"üåßÔ∏è\" : \"‚òÄÔ∏è\"}\r\n              </span>\r\n              <div style={{ textAlign: \"left\" }}>\r\n                <div style={{ fontSize: \"12px\", color: \"var(--weather-blue)\" }}>\r\n                  {weather.name}\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    fontSize: \"10px\",\r\n                    color: \"#cbd5e1\",\r\n                    marginTop: \"4px\",\r\n                  }}\r\n                >\r\n                  Temp: {Math.round(weather.main.temp)}¬∞C | Hum:{\" \"}\r\n                  {weather.main.humidity}%\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <Link to=\"/plants\" className=\"btn btn--primary\">\r\n          + Add New Plant\r\n        </Link>\r\n      </div>\r\n\r\n      {loading && <p className=\"loading\">Loading your garden...</p>}\r\n      {error && <p className=\"error\">{error}</p>}\r\n\r\n      {!loading && !error && garden.length === 0 && (\r\n        <div className=\"empty-state\">\r\n          <p>Your garden is currently empty.</p>\r\n        </div>\r\n      )}\r\n\r\n      {!loading && !error && garden.length > 0 && (\r\n       <div className=\"garden-grid\">\r\n          {garden.map((item) => {\r\n            const plantInfo = item.plant_id || {}; \r\n            const commonName = plantInfo.common_name \r\n              ? (Array.isArray(plantInfo.common_name) ? plantInfo.common_name[0] : plantInfo.common_name) \r\n              : \"Unknown Plant\";\r\n\r\n            // --- ü§ñ RUN THE CARE ENGINE HERE ---\r\n            const healthReport = analyzePlantHealth(plantInfo, weather, item);\r\n\r\n            // Determine retro border color based on health status\r\n            let statusColor = \"var(--leaf-green)\"; // Optimal (Green)\r\n            if (healthReport.health === \"THIRSTY\") statusColor = \"var(--weather-blue)\"; // Thirsty (Blue)\r\n            if (healthReport.health === \"NEEDS ATTENTION\") statusColor = \"#fbbf24\"; // Needs Attention (Yellow)\r\n            if (healthReport.health === \"TOO HOT!\" || healthReport.health === \"TOO COLD!\") statusColor = \"#ef4444\"; // Danger (Red)\r\n\r\n            return (\r\n              <div key={item._id} className=\"garden-card\" style={{ borderColor: statusColor }}>\r\n                <div className=\"garden-card__header\">\r\n                  <h3>{item.nickname}</h3>\r\n                  <span className=\"species\">{commonName}</span>\r\n                </div>\r\n                \r\n                {/* STATUS BAR */}\r\n                <div className=\"garden-card__stats\" style={{ borderColor: statusColor }}>\r\n                  <div className=\"stat\">\r\n                    <small>STATUS:</small>\r\n                    <strong style={{ color: statusColor }}>{healthReport.health}</strong>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* ALERTS TERMINAL BOX */}\r\n                {healthReport.alerts.length > 0 && (\r\n                  <ul style={{ \r\n                    listStyle: 'none', \r\n                    padding: '8px', \r\n                    margin: 0, \r\n                    background: 'rgba(0,0,0,0.5)', \r\n                    border: '1px solid #334155',\r\n                    fontSize: '8px',\r\n                    color: '#f8fafc',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    gap: '4px'\r\n                  }}>\r\n                    {healthReport.alerts.map((alert, idx) => (\r\n                      <li key={idx}>‚ñ∏ {alert}</li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n\r\n                <div className=\"garden-card__actions\">\r\n                  <button \r\n                    onClick={() => handleWater(item._id)} \r\n                    className=\"btn btn--small btn--blue\"\r\n                  >\r\n                    WATER üíß\r\n                  </button>\r\n                  <button \r\n                    onClick={() => handleRemove(item._id, item.nickname)} \r\n                    className=\"btn btn--small btn--danger\"\r\n                  >\r\n                    REMOVE\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- MAIN COMPONENT ---\r\nexport default function Home() {\r\n  const navigate = useNavigate();\r\n  const { user } = useContext(AuthContext); // Get user status\r\n\r\n  function handleSearchSubmit(event) {\r\n    event.preventDefault();\r\n    const formData = new FormData(event.currentTarget);\r\n    const query = (formData.get(\"query\") || \"\").toString().trim();\r\n    const field = (formData.get(\"field\") || \"none\").toString();\r\n    const sort = (formData.get(\"sort\") || \"none\").toString();\r\n\r\n    const params = new URLSearchParams();\r\n\r\n    if (query) params.set(\"search\", query);\r\n    if (field && field !== \"none\") params.set(\"field\", field);\r\n    if (sort && sort !== \"none\") params.set(\"sort\", sort);\r\n\r\n    const searchString = params.toString();\r\n    if (searchString) {\r\n      navigate(`/plants?${searchString}`);\r\n    } else {\r\n      navigate(\"/plants\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"home\">\r\n      {/* floating accents */}\r\n      <span className=\"bubble bubble--green\" />\r\n      <span className=\"bubble bubble--blue\" />\r\n      <span className=\"bubble bubble--purple\" />\r\n\r\n      <header className=\"home__header\">\r\n        <div className=\"brand\">\r\n          <div className=\"brand__dot\" />\r\n          <h1 className=\"brand__name\">Meet-Ur Garden</h1>\r\n        </div>\r\n\r\n        <nav style={{ display: \"flex\", gap: \"10px\" }}>\r\n          <Link to=\"/plants\" className=\"btn btn--ghost\">\r\n            All Plants\r\n          </Link>\r\n          {/* If user is logged in, show logout, else nothing (handled by hero CTA) */}\r\n          {user && (\r\n            <Link to=\"/logout\" className=\"btn btn--ghost\">\r\n              Logout\r\n            </Link>\r\n          )}\r\n        </nav>\r\n      </header>\r\n\r\n      {/* CONDITIONAL RENDER: Dashboard for User, Landing for Guest */}\r\n      {user ? (\r\n        <GardenDashboard user={user} />\r\n      ) : (\r\n        <LandingView handleSearchSubmit={handleSearchSubmit} />\r\n      )}\r\n\r\n      <footer className=\"home__footer\">\r\n        <small>¬© {new Date().getFullYear()} Meet-Ur Garden</small>\r\n      </footer>\r\n    </main>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}